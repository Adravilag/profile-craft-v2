.scrollLock {
  overflow: hidden !important;
  position: fixed !important;
  width: 100% !important;
  height: 100% !important;
  touch-action: none !important;
  overscroll-behavior: none !important;
}

/* ============================================
   MODAL PORTAL STYLES - CSS MODULES
   Base Modal Container & Overlay System
   ============================================ */

/* ============================================
   PORTAL CONTAINER
   ============================================ */
.modalPortalContainer {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 99999 !important;
  pointer-events: auto;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: modalPortalFadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  isolation: isolate;
  contain: layout;
}

@keyframes modalPortalFadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* ============================================
   MODAL OVERLAY BASE
   ============================================ */
.modalOverlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgb(2, 6, 23, 0.6); /* tono ligeramente más cálido y profundo */
  backdrop-filter: blur(10px) saturate(110%);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: clamp(16px, 4vw, 32px);
  box-sizing: border-box;
  animation: overlayFadeIn 0.28s cubic-bezier(0.2, 0.9, 0.2, 1);
}

@keyframes overlayFadeIn {
  from {
    opacity: 0;
    backdrop-filter: blur(0);
  }
  to {
    opacity: 1;
    backdrop-filter: blur(10px);
  }
}

/* ============================================
   MODAL CONTENT BASE
   ============================================ */
.modalContent {
  border-radius: var(--md-sys-shape-corner-large);
  max-width: 190vw;
  max-height: 90vh;
  overflow: hidden;
  position: relative;
  animation: modalContentSlideIn 0.32s cubic-bezier(0.2, 0.9, 0.2, 1);
  will-change: transform, opacity;
}

@keyframes modalContentSlideIn {
  from {
    opacity: 0;
    transform: translateY(12px) scale(0.995);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* ============================================
   SCROLL LOCK UTILITY
   ============================================ */
.scrollLock {
  overflow: hidden !important;
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */
@media (max-width: 768px) {
  .modalOverlay {
    padding: var(--md-sys-spacing-md);
  }

  .modalContent {
    max-width: 95vw;
    max-height: 95vh;
  }
}

@media (max-width: 480px) {
  .modalOverlay {
    padding: var(--md-sys-spacing-sm);
  }

  .modalContent {
    max-width: 98vw;
    max-height: 98vh;
    border-radius: var(--md-sys-shape-corner-medium);
  }
}

/* ============================================
   DARK MODE ADAPTATIONS
   ============================================ */
.modalOverlay {
  background: rgb(0, 0, 0, 0.7);
}

/* ============================================
   ACCESSIBILITY
   ============================================ */
.modalPortalContainer:focus-within {
  outline: 2px solid var(--md-sys-color-primary);
  outline-offset: -2px;
}

@media (prefers-reduced-motion: reduce) {
  .modalPortalContainer,
  .modalOverlay,
  .modalContent {
    animation: none;
  }
}

/* ============================================
   HIGH CONTRAST MODE
   ============================================ */
@media (prefers-contrast: high) {
  .modalOverlay {
    background: rgb(0, 0, 0, 0.8);
  }

  .modalContent {
    border: 2px solid var(--md-sys-color-outline);
  }
}

/* ============================================
   SCROLL LOCK ENHANCEMENTS
   ============================================ */

/* Aplicar scroll lock también al html para navegadores modernos */
html:has(.scrollLock) {
  overflow: hidden !important;
}

/* Para navegadores que no soportan :has() */
body.scrollLock,
body.scrollLock * {
  overflow: hidden !important;
}

/* Prevenir cualquier tipo de scroll incluso con wheel events */
.modalPortalContainer {
  overscroll-behavior: none !important;
  touch-action: none !important;
}

/* Asegurar que el contenido del modal maneje su propio scroll */
.modalPortalContainer * {
  overscroll-behavior: contain;
}

/* Bloquear eventos de rueda del mouse globalmente cuando el modal está activo */
body:has(.modalPortalContainer) {
  overflow: hidden !important;
  position: fixed !important;
  width: 100% !important;
  height: 100% !important;
}
